$(function(){function s(s,o){p.css("display",s),p.text(o)}function o(o,e){var n="access="+o+"&password="+e;console.log(n),$.ajax({type:"POST",url:common_url+"/watersys/confirmLogin.do",dataType:"json",context:document.body,data:n,timeout:5e3,success:function(o){var e=o.msg,n=o.permission;switch(e){case 2:s("block","登录出错！");break;case 4:s("block","输入账号不存在");break;case 5:s("block","输入密码出错");break;default:a.val(""),sessionStorage.setItem("permission",n),window.location.href="../../index.html"}},error:function(s,o){console.log("ajax error")}})}var e=$(".checkbox-wrapper"),n=$(".checkbox-checked"),c=$(".remember-text"),a=$(".user-input"),r=$(".user-icon"),l=$(".password-input"),i=$(".password-icon"),t=$(".user-close"),u=$(".password-close"),d=$(".sign-in"),p=$(".prompt");e.click(function(){n.hasClass("none")?(n.removeClass("none"),c.css("color","#527ee6"),null!==a.val()&&sessionStorage.setItem("username",a.val())):(n.addClass("none"),c.css("color","#a8a8a8"),sessionStorage.removeItem("username"))}),a.focus(function(){r.css("color","#529fff")}),a.blur(function(){r.css("color","#d1d1d1")}),a.bind("input propertychange",function(){""!==$(".user-input").val()?t.css("display","block"):t.css("display","none")}),l.focus(function(){i.css("color","#529fff")}),l.blur(function(){i.css("color","#d1d1d1")}),l.bind("input propertychange",function(){""!==$(".password-input").val()?u.css("display","block"):u.css("display","none")}),t.click(function(){a.val(""),a.focus(),t.css("display","none")}),u.click(function(){l.val(""),l.focus(),u.css("display","none")}),function(){var s=sessionStorage.getItem("username");console.log(s),s&&(a.val(s),console.log("111"),n.removeClass("none"),c.css("color","#527ee6"))}(),d.click(function(){var e=a.val(),n=l.val();""===e||""===n?s("block","账号和密码不能为空"):o(e,n)})});